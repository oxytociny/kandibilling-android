apply plugin: 'com.android.library'

android {
    compileSdkVersion 23
    buildToolsVersion "23.0.1"

    defaultConfig {
        minSdkVersion 15
        targetSdkVersion 22
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
        }
    }

    lintOptions {
        abortOnError false
    }

    //task to delete the old jar
    task deleteOldJar(type: Delete) {
        delete 'release/kandibilling-android.jar'
    }

    //task to export contents as jar
    task exportJar(type: Copy) {
        from('build/intermediates/bundles/release/')
        into('release/')
        include('classes.jar')
        ///Rename the jar
        rename('classes.jar', 'kandibilling-android.jar')
    }

    exportJar.dependsOn(deleteOldJar, build)

}

dependencies {
    compile files('libs/aldebaran-1.0.2-b5.jar')
}
